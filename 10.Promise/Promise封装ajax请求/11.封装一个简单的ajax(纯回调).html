<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
			/* 
        å®šä¹‰ä¸€ä¸ª sendAjax å‡½æ•°ï¼Œå¯¹ xhr çš„ get è¯·æ±‚è¿›è¡Œå°è£…:
        è¯¥å‡½æ•°æŽ¥æ”¶ 4 ä¸ªå‚æ•°: url(è¯·æ±‚åœ°å€)ã€data(å‚æ•°å¯¹è±¡)ã€success(æˆåŠŸçš„å›žè°ƒ)ã€error(å¤±è´¥çš„å›žè°ƒ)
			*/
      function sendAjax(url, data, success, error) {
        const xhr = new XMLHttpRequest()
          xhr.onreadystatechange = () => {
            if (xhr.readyState === 4) {
              if (xhr.status >= 200 && xhr.status < 300) success(xhr.response)
							else error('è¯·æ±‚å¤±è´¥ ðŸ˜ˆðŸ˜ˆðŸ˜ˆðŸ˜ˆ')
            }
          };

          // æŠŠè¯·æ±‚å‚æ•°è½¬æˆåœ°å€å½¢å¼
          let str = ''
          for (key in data) {
            str += `${key}=${data[key]}&`
          }
          str = str.slice(0, -1)
          url = url + '?' + str

					xhr.open('GET', url)
          xhr.responseType = 'json'
          xhr.send()
      }
      sendAjax(
          'http://gmall-h5-api.atguigu.cn/api/product/getBaseCategoryList', 
          { categoryName: 'ç”µå­ä¹¦' },
          (response) => { console.log('æˆåŠŸäº†', response) },
          (err) => { console.log('å¤±è´¥äº†', err) }
      )
    </script>
  </body>
</html>
